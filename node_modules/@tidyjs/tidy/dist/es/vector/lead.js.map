{"version":3,"file":"lead.js","sources":["../../../src/vector/lead.ts"],"sourcesContent":["type LeadOptions = {\n  /** Number of positions to lead by (default: 1) */\n  n?: number;\n  /** The default value for non-existent rows. */\n  default?: any;\n};\n\n/**\n * Returns a functions that leads a vector by a specified offset (n). Useful for\n * finding next values for computing deltas with.\n * @param key The key or accessor to lead\n * @param options Options to configure roll. e.g. whether to run on partial windows.\n */\nexport function lead<T extends object>(\n  key: keyof T | ((d: T, index: number, array: Iterable<T>) => any),\n  options?: LeadOptions | undefined | null\n) {\n  const keyFn = typeof key === 'function' ? key : (d: T) => d[key];\n\n  const { n = 1, default: defaultValue } = options ?? {};\n\n  return (items: T[]) => {\n    return items.map((_, i) => {\n      const leadItem = items[i + n];\n      return leadItem == null ? defaultValue : keyFn(leadItem, i, items);\n    });\n  };\n}\n"],"names":[],"mappings":"cAcE,KACA;AAEA,QAAM,QAAQ,OAAO,QAAQ,aAAa,MAAM,CAAC,MAAS,EAAE;AAE5D,QAAM,CAAE,IAAI,GAAG,SAAS,gBAAiB,4BAAW;AAEpD,SAAO,CAAC;AACN,WAAO,MAAM,IAAI,CAAC,GAAG;AACnB,YAAM,WAAW,MAAM,IAAI;AAC3B,aAAO,YAAY,OAAO,eAAe,MAAM,UAAU,GAAG;AAAA;AAAA;AAAA;;;;"}