function nDistinct(key, options = {}) {
  const keyFn = typeof key === "function" ? key : (d) => d[key];
  return (items) => {
    const uniques = new Map();
    let count = 0;
    let i = 0;
    for (const item of items) {
      const value = keyFn(item, i++, items);
      if (!uniques.has(value)) {
        if (!options.includeUndefined && value === void 0 || options.includeNull === false && value === null) {
          continue;
        }
        count += 1;
        uniques.set(value, true);
      }
    }
    return count;
  };
}

export { nDistinct };
//# sourceMappingURL=nDistinct.js.map
